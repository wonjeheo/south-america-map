<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>South America Route Map</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>

<body>

  <div id="login-overlay" class="login-screen">
    <div class="login-box">
      <h1>여행 지도 ✈️</h1>
      <p>관리자는 로그인을, 방문자는 게스트 입장을 선택하세요.</p>
      <button id="btn-login-google" class="btn-login">Google 로그인 (관리자)</button>
      <button id="btn-guest" class="btn-guest">그냥 구경하기 (게스트)</button>
    </div>
  </div>

  <button id="btn-logout" class="floating-logout hidden">로그아웃</button>

  <div id="map"></div>

  <div id="total-spent-box">
    총 사용 금액: <span id="total-spent">0</span> 원
  </div>

  <div id="timeline-panel">
    <h4>여행 타임라인</h4>
    <div id="timeline-box"></div>
  </div>

  <div id="map-buttons" class="button-panel">
    <button id="add-city-mobile" class="floating-add-btn admin-only">도시 추가</button>
    <button id="btn-world">전체 보기</button>
    <button id="btn-southamerica">남미 확대</button>
  </div>

  <div id="add-city-overlay" class="hidden">
    <div class="overlay-text">지도에서 도시 위치를 선택하세요</div>
  </div>
  
  <div id="modal-city" class="modal hidden">
    <div class="modal-content">
      <h3 id="modal-city-title">도시 정보</h3>

      <label>도시 이름</label>
      <input id="city-name" type="text">

      <label>DATE IN</label>
      <input id="city-in" type="text">

      <label>DATE OUT</label>
      <input id="city-out" type="text">

      <label>HOTEL</label>
      <input id="city-hotel" type="text">

      <div id="spent-list"></div>

      <div class="spent-btn-wrap admin-only">
        <button id="add-spent-item">지출 항목 추가</button>
      </div>

      <button id="city-save" class="admin-only">저장</button>
      <button id="city-connect" class="admin-only">연결하기</button>
      <button id="city-delete" class="admin-only">삭제</button>
      <button id="city-cancel">닫기</button> 
      <div id="city-spent-total" style="margin-top: 10px; font-weight: bold; color: #ffd34d;">
        도시 지출 총합: 0원
      </div>
    </div>
  </div>

  <div id="modal-route" class="modal hidden">
      <div class="modal-content">
        <h3>노선 정보</h3>

        <label>이동수단</label>
        <select id="route-transport">
          <option value="비행기">비행기</option>
          <option value="버스">버스</option>
          <option value="야간버스">야간버스</option> <option value="기차">기차</option>
        </select>

      <label>비용</label>
      <input id="route-cost" type="text">

      <label>메모</label>
      <input id="route-note" type="text">

      <button id="route-save" class="admin-only">저장</button>
      <button id="route-delete" class="admin-only">삭제</button>
      <button id="route-cancel">닫기</button>
    </div>
  </div>

  <div id="clock-box">
    <span id="time-korea">🇰🇷 00:00</span>
    <span class="divider">|</span>
    <span id="time-local">🌎 00:00</span>
  </div>

  
  <script type="module" src="./js/app.js"></script>

</body>
</html>